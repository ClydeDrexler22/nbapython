<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>NBA Python</title>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <style>
      thead {
        text-align : left;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1><span class="glyphicon glyphicon-search"> </span> NBA Database Application</h1>
      <p>Use this application to search for players and teams in the NBA.</p>

      <h3>NBA Filter Form</h3>
      <form action="./query">
        <label for="team">Team Name</label>
        <select name="team" id="teamName">
          <!--<option value='Celtics'>Celtics</option>-->
          <option name="Any">Any</option>
          {% for team in data.teams %}
            <option name="{{team.name}}">{{team.name}}</option>
          {% endfor %}
        </select>
        <br><br>
        <label for="player_last_name">Player Last Name</label>
        <input type="text" name="player_last_name" id="lName">
        <br><br>
        <label for="player_first_name">Player First Name</label>
        <input type="text" name="player_first_name" id="fName">
        <br><br>
        <label for="year">Specific Year</label>
        <input type="text" name="year" id="year">
        <br><br>
        <label for="points">Minimum Points Per Season</label>
        <input type="text" name="points" id="points">
        <br><br>
	<label for="rebounds">Minimum Rebounds Per Season</label>
	<input type="text" name="rebounds" id="rebounds">
	<br><br>
	<label for="asists">Minimum Asists Per Season</label>
	<input type="text" name="asists" id="asists">
	<br><br>
	<label for="steals">Minimum Steals Per Season</label>
	<input type="text" name="steals" id="steals">
	<br><br>
        <input type="submit" value="Submit">
      </form>

      <!-- players filteredPlayers -->
      <h2>NBA Players</h2>
      <div id="playerTable" class="table-responsive">
        <table class="table">
          <thead>
            <tr>
                <th>logo</th>
              {% for key, player in data.filteredPlayers[0].iteritems() %}
                <th>{{key}}</th>
              {% endfor %}
            </tr>
          </thead>
          <tbody>
            {% for player in data.filteredPlayers %}
            <tr>
                <td><img src="http://a.espncdn.com/combiner/i?img=/i/teamlogos/nba/500/{{player.team}}.png&h=50&w=50" alt="team logo"
                    onerror="if (this.src != 'error.jpg') this.src = 'error.jpg';"></td>
                {% for key, val in player.iteritems() %}
                <td>{{val}}</td>
                {% endfor %}
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </body>
</html>
